let data=[
    {image_url:"https://cdn.shopify.com/s/files/1/0361/8553/8692/products/Untitled-1_e13fe0e4-6313-45f1-b5f6-fe829a4c5dec_360x.jpg?v=1650465566",
    name:"Vitamin C Serum with Blood Orange | For Skin Glow | Fades Pigmentation & Dark Spots| Women and Men",
    p_price:"Rs: 665.00",
    price:632.00,
    star:"https://previews.123rf.com/images/barks/barks1712/barks171200370/91718901-five-star-rating-icon-3-.jpg",
},
{
    image_url:"https://cdn.shopify.com/s/files/1/0361/8553/8692/products/Artboard1_3057d434-6349-42b8-aefe-1673c8d24265_360x.jpg?v=1649327316",
    name:"Niacinamide Face Serum With Zinc & Antioxidants| Treats Acne, Dark Spots & Acne Scars| Women & Men",
    p_price:"Rs: 665.00",
    price: 598.00,
    star:"https://previews.123rf.com/images/barks/barks1712/barks171200370/91718901-five-star-rating-icon-3-.jpg",

},
{
    image_url:"https://cdn.shopify.com/s/files/1/0361/8553/8692/products/Artboard1-7_2_360x.jpg?v=1646476789",
    name:"RETINOL TIME REVERSE FACE SERUM",
    p_price:"Rs: 795.00",
    price:715.00,
    star:"https://previews.123rf.com/images/barks/barks1712/barks171200370/91718901-five-star-rating-icon-3-.jpg",

},
{
    image_url:"https://cdn.shopify.com/s/files/1/0361/8553/8692/products/Artboard1_4_7a306ce8-6ac4-4704-9284-aa5264e20546_360x.jpg?v=1646476826",
    name:"HYALURONIC + CERAMIDE HYDRATING FACE SERUM",
    p_price:"Rs: 665.00",
    price:598.00,
    star:"https://previews.123rf.com/images/barks/barks1712/barks171200370/91718901-five-star-rating-icon-3-.jpg",

},
{
    image_url:"https://cdn.shopify.com/s/files/1/0361/8553/8692/products/Artboard1_32f28fd1-371e-4840-b4a1-216f31a43318_360x.jpg?v=1649328433",
    name:"Vitamin C++ Glow Face Serum With Hyaluronic & Kakadu Plum| For Skin Glow|  Women & Men",
    p_price:"Rs: 795.00",
    price:715.00,
    star:"https://previews.123rf.com/images/barks/barks1712/barks171200370/91718901-five-star-rating-icon-3-.jpg",

},
{
    image_url:"https://cdn.shopify.com/s/files/1/0361/8553/8692/products/Artboard1-6_3_360x.jpg?v=1646477545",
    name:"AHA + 2% BHA EXFOLIATING GLOW HYDRO PEEL",
    p_price:"Rs: 595.00",
    price:565.00,
    star:"https://previews.123rf.com/images/barks/barks1712/barks171200370/91718901-five-star-rating-icon-3-.jpg",
    

},
{
    image_url:"https://cdn.shopify.com/s/files/1/0361/8553/8692/products/Artboard1-2_3_360x.jpg?v=1646476857",
    name:"Alpha Arbutin + Azelaic Biphasic RADIANCE Serum",
    p_price:"Rs: 545.00",
    price:518.00,
    star:"https://previews.123rf.com/images/barks/barks1712/barks171200370/91718901-five-star-rating-icon-3-.jpg",

},
{
    image_url:"https://cdn.shopify.com/s/files/1/0361/8553/8692/products/Artboard1-4_4_763d27a2-de17-476f-9058-0891cd25b094_360x.jpg?v=1646476808",
    name:"PHA + Bakuchiol Daily Peel Serum",
    p_price:"Rs: 995.00",
    price:796.00,
    star:"https://previews.123rf.com/images/barks/barks1712/barks171200370/91718901-five-star-rating-icon-3-.jpg",

},
{
    image_url:"https://cdn.shopify.com/s/files/1/0361/8553/8692/products/Artboard1-6_2_ff47654b-ba0b-43c5-ac01-7888e451d4e7_360x.jpg?v=1646476750",
    name:"Salicylic Face Serum With Tea Tree Oil & Zinc | Treats Acne, Blemishes & Acne Scars| Oily, Acne Prone Skin| Women and Men",
    p_price:"Rs: 665.00",
    price:598.00,
    star:"https://previews.123rf.com/images/barks/barks1712/barks171200370/91718901-five-star-rating-icon-3-.jpg",

},
{
    image_url:"https://cdn.shopify.com/s/files/1/0361/8553/8692/products/1_2_360x.jpg?v=1644862670",
    name:"Rosehip Glow Elixir Face Oil",
    p_price:"Rs: 645.00",
    price:516.00,
    star:"https://previews.123rf.com/images/barks/barks1712/barks171200370/91718901-five-star-rating-icon-3-.jpg",

},
{
    image_url:"https://cdn.shopify.com/s/files/1/0361/8553/8692/products/Artboard1-3_4_ae587533-265c-4e47-84bf-81c14bbc6539_360x.jpg?v=1646476775",
    name:"AHA + 2% BHA GLOW ACCELERATOR PEEL",
    p_price:"Rs: 695.00",
    price:556.00,
    star:"https://previews.123rf.com/images/barks/barks1712/barks171200370/91718901-five-star-rating-icon-3-.jpg",

},
{
    image_url:"https://cdn.shopify.com/s/files/1/0361/8553/8692/products/1_1_360x.jpg?v=1644916657",
    name:"Avocado + Superfoods Nourishing Face Oil",
    p_price:"Rs: 645.00",
    price:516.00,
    star:"https://previews.123rf.com/images/barks/barks1712/barks171200370/91718901-five-star-rating-icon-3-.jpg",

},
{
    image_url:"https://cdn.shopify.com/s/files/1/0361/8553/8692/products/SkinAwakening_360x.jpg?v=1610017602",
    name:"SKIN AWAKENING MOISTURIZING SERUM",
    p_price:"Rs: 795.00",
    price:636.00,
    star:"https://previews.123rf.com/images/barks/barks1712/barks171200370/91718901-five-star-rating-icon-3-.jpg",


},
{
    image_url:"https://cdn.shopify.com/s/files/1/0361/8553/8692/products/2_11_360x.webp?v=1644493946",
    name:"AGE DEFENSE + GLOW NIGHT SERUM",
    p_price:"Rs: 595.00",
    price:476.00,
    star:"https://previews.123rf.com/images/barks/barks1712/barks171200370/91718901-five-star-rating-icon-3-.jpg",


},
]


document.querySelector("#sort").addEventListener("change",handleName)

function handleName(){
var selected=document.querySelector('#sort').value

if(selected=="asc"){

    data.sort(function(a,b){
        if(a.name>b.name){
            return 1
        }
        if(a.name<b.name){
            return -1
        }
        return 0
    })

    displayData(data);

}
if(selected=="dsc"){

    data.sort(function(a,b){
        if(a.name>b.name){
            return -1
        }
        if(a.name<b.name){
            return 1
        }
        return 0
    })
 
    displayData(data);
   

}
   
}

document.querySelector("#sort").addEventListener("change",handlePrice)

function handlePrice(){

    var dprice=document.querySelector("#sort").value

    // console.log(price);
    if(dprice=="HTL"){

        data.sort(function (a,b){

            return  Number(b.price)-Number(a.price)
           
        })
        displayData(data);
        
    }
    if(dprice=="LTH"){

        data.sort(function (a,b){

            let diff=Number(a.price)-Number(b.price)
            return diff
           
        })
        displayData(data);

    }
    

   

}



displayData(data)


function displayData(data){
    document.querySelector("#k_cart").innerHTML=null
    


data.forEach(function(elem){
 

    let box=document.createElement("div");
    box.setAttribute("id","k_box")

    let img_p=document.createElement("img")
    img_p.setAttribute("id","k_img")
    img_p.src=elem.image_url;

    let r_img=document.createElement("img")
    r_img.setAttribute("id","rate")
    r_img.src=elem.star

    let name_p=document.createElement("p")
    name_p.setAttribute("id","k_name")
    name_p.innerText=elem.name;
    name_p.style.color="grey"
    name_p.style.textAlign="center"

    let price_p=document.createElement("h3")
    price_p.setAttribute("id","k_price")
    price_p.innerText=elem.p_price;
    


    let dprice_p=document.createElement("h3")
    dprice_p.setAttribute("id","k_dprice")
    dprice_p.innerText="RS:"+elem.price;
    

   

    let btn=document.createElement("button")
    btn.innerText="Add to Cart"
    btn.setAttribute("id","add_cart")
    btn.addEventListener("click",function(){
        addToCart(elem)
    })

 box.append(img_p,r_img,name_p,price_p,dprice_p,btn)

document.querySelector("#k_cart").append(box)

  




})



}

var cartArray = JSON.parse(localStorage.getItem("cartItem")) || [];
function addToCart(elem) {
    cartArray.push(elem);
    alert("item added to cart")

    localStorage.setItem("cartItem", JSON.stringify(cartArray))
}
